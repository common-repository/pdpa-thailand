!function(e){e(document).ready((function(){e('[name="pdpa_thailand_msg[policy_page]"]').change((function(){var a=e(this).val(),t=e(".policy--page-edit"),n=pdpa_thailand.policy_edit_url.split("&");t.attr("href",n[0]+a+"&"+n[1])})),e(".pdpa--add-cookie, #dpdpa--upload, .dpdpa--logo-delete").click((function(e){return e.preventDefault(),!1})),e(".refresh--cookie").click((function(){var a=e(this).prev();a.addClass("loading");var t={action:"reset_cookie_id",nonce:pdpa_thailand.nonce};return e.post(ajaxurl,t,(function(t){a.removeClass("loading"),e('[name="pdpa_thailand_settings[cookie_unique_id]"]').val(t)})),!1})),e(".dpdpa--rating").click((function(){var a={action:"rating_saved",nonce:pdpa_thailand.nonce,status:e(this).attr("attr-status")};return e.post(ajaxurl,a,(function(a){e(".dpdpa--info").hide(),"yes"==a&&window.open("https://wordpress.org/support/plugin/pdpa-thailand/reviews/?filter=5/#new-post","_blank")})),!1}));var a=e(".pdpa--li_template").html();if(e(".pdpa--reset-cookie").click((function(){return e(".pdpa--list").html(a),e(".pdpa--list li").last().find('[name="consent_title[]"]').select(),!1})),e(document).on("click",".pdpa--list .accordion",(function(){return e(this).parents("li").toggleClass("active"),!1})),e(document).on("click",".pdpa--delete-button",(function(){return confirm(pdpa_thailand.delete_layer)&&e(this).parents("li").remove(),!1})),e(document).on("keyup",'.pdpa--list [name="cookie_name[]"]',(function(a){e(this).removeClass("error"),e(this).next().text(""),e(this).val(e(this).val().trim());/^[ A-Za-z_0-9-_]*$/i.test(e(this).val())||(e(this).addClass("error"),e(this).next().text(pdpa_thailand.error_cookie_name)),n(!1)})),e("body.toplevel_page_pdpa-thailand").length>0){var t=0;e("#submit").click((function(a){if(t=function(){var a=0;return e(".pdpa--list li").each((function(){var t=0,n=e(this).find('[name="cookie_name[]"]'),r=e(this).find('[name="consent_title[]"]'),o=e(this).find('[name="consent_description[]"]');t+=i(n),t+=i(r),t+=i(o),/^[ A-Za-z_0-9-_]*$/i.test(n.val())||(t=1,n.next().text(pdpa_thailand.error_cookie_name)),t>=1?(r.focus(),n.addClass("error"),n.parents("li").addClass("active")):n.removeClass("error"),a+=t})),a}(),n(!0),t>0){if(e(".regular-text.error").length>0){var r=e(".regular-text.error").first().offset().top;e("html, body").animate({scrollTop:r-100},300)}a.preventDefault()}}))}function n(a){var t,n=[];if(e('.pdpa--list [name="cookie_name[]"]').each((function(){n.push(e(this).val())})),t=n,new Set(t).size!==t.length){var i=e(".pdpa--list li").last().find('[name="cookie_name[]"]');if(i.addClass("error"),i.parents("li").addClass("active"),i.next().text(pdpa_thailand.error_cookie_unique),a){var r=i.first().offset().top;e("html, body").animate({scrollTop:r-100},300)}return event.preventDefault(),!1}}function i(e){return e.removeClass("error"),e.next().text(""),e.val(e.val().trim()),""==e.val()?(e.addClass("error"),1):0}e(document).on("change keyup",'[name="appearance_container_point"],[name="appearance_container_size"]',(function(){var a=e('[name="appearance_container_size"]').val()+"|"+e('[name="appearance_container_point"]').val();e('[name="pdpa_thailand_appearance[appearance_container_size]"]').val(a)}))}))}(jQuery);